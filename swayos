#!/bin/bash


echo "installing needed official packages"

sudo pacman -S --noconfirm --needed git zsh zsh-autosuggestions iwd bluez bluez-utils blueman pipewire pipewire-alsa pipewire-pulse pipewire-jack pipewire-media-session xdg-desktop-portal-wlr xorg-xwayland wayland-protocols sway swayidle swaylock grim slurp waybar wofi brightnessctl foot ttf-font-awesome nautilus libreoffice-fresh gnome-system-monitor system-config-printer feh cups ttf-ubuntu-font-family polkit-gnome wl-clipboard openbsd-netcat unzip meson


echo "cloning swayos repo"

curl -LO https://github.com/swayos/swayos.github.io/archive/master.zip
unzip master.zip
cd swayos.github.io-main


echo "copying terminus-ttf to font directory"

sudo cp font/*.* /usr/share/fonts/


echo "copying settings to home folder"

cp -R home/. ~/


echo "starting services"

# add dhcp on lan

echo $'[Match]\nName=enp1s0\n[Network]\nDHCP=yes\n' | sudo tee /etc/systemd/network/20-wired.network > /dev/null

sudo systemctl enable systemd-networkd --now
sudo systemctl enable iwd --now
sudo systemctl enable bluetooth --now
sudo systemctl enable cups --now

echo "installing yay for aur programs"

git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
cd ..

echo "installing needed aur packages"

yay -S google-chrome pamac-gtk iwgtk wdisplays wob wlogout

echo "installing sway overview from the repo until it is in aur"

git clone https://github.com/milgra/sway-overview.git
cd sway-overview
meson build
ninja -C build
sudo ninja -C build install

echo "cleaning up"

#cd ..
#rm -R swayos

echo "changing shell to zsh"

chsh -s /bin/zsh
